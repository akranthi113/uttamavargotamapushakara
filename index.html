<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Astrological Calculator</title>
<style>
    *{box-sizing:border-box;margin:0;padding:0}
    body{
        font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;
        line-height:1.6;color:#333;
        background:linear-gradient(135deg,#f5f7fa 0%,#c3cfe2 100%);
        padding:20px;min-height:100vh
    }
    .container{
        max-width:950px;margin:auto;background:#fff;border-radius:12px;
        box-shadow:0 10px 30px rgba(0,0,0,.1);overflow:hidden
    }
    header{
        background:linear-gradient(135deg,#4b6cb7 0%,#182848 100%);
        color:#fff;padding:25px;text-align:center
    }
    header h1{font-size:28px;margin-bottom:8px}
    .calculator{padding:25px}
    .input-group{display:flex;flex-wrap:wrap;gap:20px;margin-bottom:20px}
    .input-field{flex:1;min-width:200px}
    label{font-weight:600;margin-bottom:8px;display:block;color:#2c3e50}
    select{width:100%;padding:10px;border:1px solid #ddd;border-radius:6px;font-size:16px}
    select:focus{border-color:#4b6cb7;outline:none;box-shadow:0 0 0 2px rgba(75,108,183,0.2)}
    .degree-minute-group{display:flex;gap:10px}
    button{
        padding:12px 20px;border:none;border-radius:6px;font-size:16px;font-weight:600;
        cursor:pointer;transition:all .3s;flex:1
    }
    .button-group{display:flex;gap:10px;margin-top:10px;flex-wrap:wrap}
    #calculate{background:linear-gradient(135deg,#4b6cb7 0%,#182848 100%);color:#fff}
    #calculate:hover{transform:translateY(-2px);box-shadow:0 5px 15px rgba(75,108,183,.4)}
    #reset,#showAll{background:#f8f9fa;color:#495057;border:1px solid #ddd}
    #reset:hover,#showAll:hover{background:#e9ecef}
    .results{margin-top:25px;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}
    .result-card{
        background:#fff;border-radius:8px;padding:20px;
        box-shadow:0 4px 12px rgba(0,0,0,.05);border-left:4px solid #4b6cb7
    }
    .positive{color:#27ae60}.negative{color:#e74c3c}
    .degrees-info,.explanation{
        margin-top:30px;background:#f8f9fa;border-radius:8px;padding:20px
    }
    .degrees-list{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:15px}
    
    /* Table styles - made responsive */
    .table-container {
        width: 100%;
        overflow-x: auto;
        margin-top: 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,.05);
    }
    table {
        width: 100%;
        border-collapse: collapse;
        min-width: 600px; /* Ensures table doesn't get too small on mobile */
    }
    th, td {
        border: 1px solid #ccc;
        padding: 10px;
        text-align: center;
        white-space: nowrap; /* Prevent text wrapping in table cells */
    }
    th {
        background: #4b6cb7;
        color: white;
        position: sticky;
        left: 0;
    }
    tr:nth-child(even) {
        background: #f8f9fa;
    }
    #summaryTable {
        display: none;
        margin-top: 20px;
    }
    
    /* Mobile-specific adjustments */
    @media (max-width: 768px) {
        .container {
            border-radius: 8px;
        }
        header {
            padding: 20px 15px;
        }
        header h1 {
            font-size: 24px;
        }
        .calculator {
            padding: 15px;
        }
        .input-group {
            gap: 15px;
        }
        .input-field {
            min-width: 100%;
        }
        .results {
            grid-template-columns: 1fr;
            gap: 15px;
        }
        .result-card {
            padding: 15px;
        }
        .degrees-list {
            grid-template-columns: 1fr;
        }
        .button-group {
            flex-direction: column;
        }
        button {
            width: 100%;
        }
        .explanation, .degrees-info {
            padding: 15px;
        }
        th, td {
            padding: 8px 6px;
            font-size: 14px;
        }
    }
    
    @media (max-width: 480px) {
        body {
            padding: 10px;
        }
        header h1 {
            font-size: 22px;
        }
        .calculator {
            padding: 10px;
        }
        th, td {
            padding: 6px 4px;
            font-size: 13px;
        }
    }
</style>
</head>
<body>
<div class="container">
<header>
    <h1>Astrological Calculator</h1>
    <p>Check Vargottama, Uttama Drekkana, and Pushkara Navamsa</p>
</header>

<div class="calculator">
    <div class="input-group">
        <div class="input-field">
            <label for="planet">Select Planet:</label>
            <select id="planet">
                <option>Sun</option><option>Moon</option><option>Mars</option>
                <option>Mercury</option><option>Jupiter</option><option>Venus</option>
                <option>Saturn</option><option>Rahu</option><option>Ketu</option>
                <option>Lagna</option><option>Mandi/Gulika</option>
            </select>
        </div>

        <div class="input-field">
            <label for="sign">Select Rashi (D-1 Sign):</label>
            <select id="sign">
                <option>Aries</option><option>Taurus</option><option>Gemini</option>
                <option>Cancer</option><option>Leo</option><option>Virgo</option>
                <option>Libra</option><option>Scorpio</option><option>Sagittarius</option>
                <option>Capricorn</option><option>Aquarius</option><option>Pisces</option>
            </select>
        </div>

        <div class="input-field">
            <label>Enter Degree:</label>
            <div class="degree-minute-group">
                <select id="degreeSelect"></select>
                <select id="minuteSelect"></select>
            </div>
        </div>
    </div>

    <div class="button-group">
        <button id="calculate">Calculate</button>
        <button id="reset">Reset</button>
        <button id="showAll">Show All Degrees Table</button>
    </div>

    <div class="results">
        <div class="result-card">
            <h3>üîÆ Vargottama</h3>
            <div id="vargottama-result">Enter details to check</div>
        </div>
        <div class="result-card">
            <h3>üìê Uttama Drekkana</h3>
            <div id="drekkana-result">Enter details to check</div>
        </div>
        <div class="result-card">
            <h3>üåä Pushkara Navamsa</h3>
            <div id="pushkara-result">Enter details to check</div>
        </div>
    </div>

    <div class="degrees-info">
        <h3>Qualifying Degrees for This Sign</h3>
        <div class="degrees-list">
            <div><strong>Vargottama Degrees:</strong> <span id="vargottama-degrees">Enter sign</span></div>
            <div><strong>Uttama Drekkana:</strong> <span id="drekkana-degrees">Enter sign</span></div>
            <div><strong>Pushkara Navamsa:</strong> <span id="pushkara-degrees">Enter sign</span></div>
        </div>
    </div>

    <div id="summaryTable">
        <h3>All Signs - Divisional Strength Ranges</h3>
        <div class="table-container">
            <table>
                <thead>
                    <tr><th>Sign</th><th>Vargottama</th><th>Uttama Drekkana</th><th>Pushkara Navamsa Degrees</th></tr>
                </thead>
                <tbody id="summaryBody"></tbody>
            </table>
        </div>
    </div>

    <div class="explanation">
        <h3>About These Divisional Strengths</h3>
        <p><strong>Vargottama:</strong> Same sign in D1 and D9 ‚Üí very auspicious.</p>
        <p><strong>Uttama Drekkana:</strong> Planet in best Drekkana section of sign.</p>
        <p><strong>Pushkara Navamsa:</strong> Auspicious Navamsas (3¬∞20‚Ä≤ per Navamsa).</p>
    </div>
</div>
</div>

<script>
const signTypes={
    Aries:"Movable",Cancer:"Movable",Libra:"Movable",Capricorn:"Movable",
    Taurus:"Fixed",Leo:"Fixed",Scorpio:"Fixed",Aquarius:"Fixed",
    Gemini:"Dual",Virgo:"Dual",Sagittarius:"Dual",Pisces:"Dual"
};
const pushkaraNavamsas={
    Aries:[7,9],Taurus:[3,5],Gemini:[6,9],Cancer:[1,3],
    Leo:[2,5],Virgo:[4,7],Libra:[5,7],Scorpio:[6,8],
    Sagittarius:[1,4],Capricorn:[2,6],Aquarius:[3,9],Pisces:[4,8]
};
const NAVAMSA_SIZE=3+20/60;

function isVargottama(sign,degree){
    const t=signTypes[sign];
    if(t==="Movable")return degree>=0&&degree<NAVAMSA_SIZE;
    if(t==="Fixed")return degree>=13+20/60&&degree<16+40/60;
    if(t==="Dual")return degree>=26+40/60&&degree<=30;
    return false;
}

function calculateResults(){
    const planet=document.getElementById("planet").value;
    const sign=document.getElementById("sign").value;
    const deg=parseInt(document.getElementById("degreeSelect").value);
    const min=parseInt(document.getElementById("minuteSelect").value);
    const degree=deg+min/60;
    if(isNaN(degree)||degree<0||degree>30){alert("Invalid degree.");return;}

    const varg=isVargottama(sign,degree);
    const t=signTypes[sign];
    const drekkana=degree<10?"1st":degree<20?"2nd":"3rd";
    const uttama=(t==="Movable"&&degree<10)||(t==="Fixed"&&degree>=10&&degree<20)||(t==="Dual"&&degree>=20);
    const nav=Math.floor(degree/NAVAMSA_SIZE)+1;
    const pushList=pushkaraNavamsas[sign];
    const isPush=pushList.includes(nav);

    document.getElementById("vargottama-result").innerHTML=varg?`<span class='positive'>‚úÖ Vargottama!</span>`:`<span class='negative'>‚ùå Not Vargottama.</span>`;
    document.getElementById("drekkana-result").innerHTML=uttama?`<span class='positive'>‚úÖ Uttama Drekkana (${drekkana})</span>`:`<span class='negative'>‚ùå Not Uttama (${drekkana})</span>`;
    document.getElementById("pushkara-result").innerHTML=isPush?`<span class='positive'>‚úÖ Pushkara Navamsa (${nav}th)</span>`:`<span class='negative'>‚ùå Not Pushkara (${nav}th)</span>`;

    displayQualifyingDegrees(sign);
}

function displayQualifyingDegrees(sign){
    const t=signTypes[sign];
    const vargRange=t==="Movable"?"0¬∞00‚Ä≤‚Äì3¬∞20‚Ä≤":t==="Fixed"?"13¬∞20‚Ä≤‚Äì16¬∞40‚Ä≤":"26¬∞40‚Ä≤‚Äì30¬∞00‚Ä≤";
    const uttRange=t==="Movable"?"0¬∞‚Äì10¬∞":t==="Fixed"?"10¬∞‚Äì20¬∞":"20¬∞‚Äì30¬∞";
    document.getElementById("vargottama-degrees").innerText=vargRange;
    document.getElementById("drekkana-degrees").innerText=uttRange;

    const pList=pushkaraNavamsas[sign].map(n=>{
        const start=(n-1)*NAVAMSA_SIZE,end=n*NAVAMSA_SIZE;
        const sd=Math.floor(start),sm=Math.round((start-sd)*60);
        const ed=Math.floor(end),em=Math.round((end-ed)*60);
        return `${sd}¬∞${sm.toString().padStart(2,"0")}‚Ä≤‚Äì${ed}¬∞${em.toString().padStart(2,"0")}‚Ä≤`;
    });
    document.getElementById("pushkara-degrees").innerText=pList.join(", ");
}

function resetForm(){
    document.getElementById("planet").value="Sun";
    document.getElementById("sign").value="Aries";
    document.getElementById("degreeSelect").value="0";
    document.getElementById("minuteSelect").value="0";
    document.querySelectorAll(".result-card div").forEach(el=>el.textContent="Enter details to check");
    document.getElementById("vargottama-degrees").textContent="Enter sign";
    document.getElementById("drekkana-degrees").textContent="Enter sign";
    document.getElementById("pushkara-degrees").textContent="Enter sign";
    document.getElementById("summaryTable").style.display="none";
}

function populateDropdowns(){
    const d=document.getElementById("degreeSelect"),m=document.getElementById("minuteSelect");
    for(let i=0;i<=29;i++){let o=document.createElement("option");o.value=i;o.textContent=`${i}¬∞`;d.appendChild(o);}
    for(let i=0;i<60;i++){let o=document.createElement("option");o.value=i;o.textContent=`${i}‚Ä≤`;m.appendChild(o);}
}

function showAll(){
    const body=document.getElementById("summaryBody");
    body.innerHTML="";
    for(let sign in signTypes){
        const t=signTypes[sign];
        const varg=t==="Movable"?"0¬∞00‚Ä≤‚Äì3¬∞20‚Ä≤":t==="Fixed"?"13¬∞20‚Ä≤‚Äì16¬∞40‚Ä≤":"26¬∞40‚Ä≤‚Äì30¬∞00‚Ä≤";
        const utt=t==="Movable"?"0¬∞‚Äì10¬∞":t==="Fixed"?"10¬∞‚Äì20¬∞":"20¬∞‚Äì30¬∞";
        const pList=pushkaraNavamsas[sign].map(n=>{
            const s=(n-1)*NAVAMSA_SIZE,e=n*NAVAMSA_SIZE;
            const sd=Math.floor(s),sm=Math.round((s-sd)*60);
            const ed=Math.floor(e),em=Math.round((e-ed)*60);
            return `${sd}¬∞${sm.toString().padStart(2,"0")}‚Ä≤‚Äì${ed}¬∞${em.toString().padStart(2,"0")}‚Ä≤`;
        }).join(", ");
        const row=`<tr><td>${sign}</td><td>${varg}</td><td>${utt}</td><td>${pList}</td></tr>`;
        body.insertAdjacentHTML("beforeend",row);
    }
    document.getElementById("summaryTable").style.display="block";
}

document.getElementById("calculate").addEventListener("click",calculateResults);
document.getElementById("reset").addEventListener("click",resetForm);
document.getElementById("sign").addEventListener("change",e=>displayQualifyingDegrees(e.target.value));
document.getElementById("showAll").addEventListener("click",showAll);
populateDropdowns();
displayQualifyingDegrees("Aries");
</script>
</body>
</html>
